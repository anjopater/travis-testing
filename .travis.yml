language: node_js
node_js:
 - "10"
env:
  matrix:
    - CI_API = true
    - CI_APP = true
  directories:
    - api/node_modules
    - app/node_modules  
  cache:
    directories:
      - api/node_modules
      - app/node_modules
  branches:
    only:
      - master
    
install:
  - cd "$TRAVIS_BUILD_DIR/api" && npm i
  - cd "$TRAVIS_BUILD_DIR/app" && npm i
script:
  - cd "$TRAVIS_BUILD_DIR/api" && npm t
  - cd "$TRAVIS_BUILD_DIR/app" && npm t